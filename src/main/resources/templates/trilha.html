<!DOCTYPE html>
<html lang="en" data-theme="lofi">
<head>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@5/themes.css" rel="stylesheet" type="text/css" />

  <meta charset="UTF-8">
  <title>Me and AI</title>
</head>
<body class="flex flex-col min-h-screen">

<div th:replace="~{ragments/layout :: header}"></div>
<div class="container mx-auto px-4 py-10">

  <!-- Header da Trilha -->
  <div class="card bg-base-100 shadow-xl p-8 mb-10">
    <h1 class="text-3xl font-bold mb-2" th:text="${trilha.titulo}">Título da Trilha</h1>
    <p class="text-lg opacity-80" th:text="${trilha.descricao}">
      Descrição da trilha...
    </p>

    <p class="mt-4 text-sm opacity-60">
      Criada em: <span th:text="${trilha.dataCriacao}"></span>
    </p>

    <p class="mt-1 text-sm opacity-60">
      Usuário: <span th:text="${trilha.user.name}"></span>
    </p>
  </div>


  <!-- Etapas -->
  <h2 class="text-2xl font-semibold mb-4">Etapas da Trilha</h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <div th:each="etapa : ${trilha.etapas}"
         class="card bg-base-100 shadow-md p-6 flex flex-col gap-3">

      <h3 class="text-xl font-bold" th:text="${etapa.nome}">
        Nome da etapa
      </h3>

      <p class="text-sm opacity-80" th:text="${etapa.descricao}">
        Descrição da etapa sugerida pela IA
      </p>

      <div class="flex items-center gap-2 mt-2">
        <input type="checkbox" class="checkbox checkbox-success"
               th:checked="${etapa.concluida}" disabled />
        <span class="text-sm" th:text="${etapa.concluida ? 'Concluída' : 'Pendente'}"></span>
      </div>

    </div>

  </div>


  <!-- Botões -->
  <div class="mt-10 flex justify-between">

    <a href="/trilha" class="btn btn-outline">
      Voltar
    </a>

    <form th:action="@{'/trilha/' + ${trilha.id}}" method="post"
          onsubmit="return confirm('Deseja realmente excluir esta trilha?');">
      <input type="hidden" name="_method" value="delete"/>
      <button class="btn btn-error text-white">
        Excluir Trilha
      </button>
    </form>

  </div>

</div>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>